<!doctype html>
<html>
<head>
    <script src='lib/d3.js'></script>
    <script src='lib/lodash.js'></script>
    <script src='src/analysis.js'></script>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Quicksand" rel="stylesheet">

    <script>
        // Urspr√ºngliches Script von: https://www.mediaevent.de/xhtml/area-map.html
        window.addEventListener('load', function () {
            var map = document.querySelectorAll('#Mapi area');
            for (var i = 0; i < map.length; i++) {
                if (map[i].addEventListener) {
                    map[i].addEventListener('touchstart', swap, false);
                    map[i].addEventListener('mouseover', swap, false);
                }
            }

            function swap(ev) {
                var lan = this.getAttribute('alt');
                document.getElementById('everest').setAttribute('src', 'images/' + lan);
                return false;
            }
        });
    </script>
</head>
<body onload="loadData()">

<header>
    <h1>Everest Visualization</h1>
</header>

<!-- Image Map generated with http://www.image-map.net/-->
<img src="images/Everest_V1_default.svg" id="everest" usemap="#Mapi">
<map name="Mapi" id="Mapi">
    <area shape="rect" coords="643,164,748,186" alt="Everest_V1_deathzone.svg" href="#everest">
    <area shape="rect" coords="494,162,522,186" alt="Everest_V1_Camp4.svg" href="#everest">
    <area shape="rect" coords="469,207,503,234" alt="Everest_V1_Camp3.svg" href="#everest">
    <area shape="rect" coords="516,247,544,271" alt="Everest_V1_Camp2.svg" href="#everest">
    <area shape="rect" coords="468,283,504,312" alt="Everest_V1_Camp1.svg" href="#everest">
    <area shape="rect" coords="481,339,555,391" alt="Everest_V1_BaseCamp.svg" href="#everest">
    <area shape="rect" coords="489,60,502,92" alt="Everest_V1_summit.svg" href="#everest">
</map>

<div id="bl1" class="breakline"></div>

<h2>1) Choose a year
    <div class="tooltip">
        <img src="images/infoicon.svg" class="info" height="16px" width="16px">
        <div class="tooltiptext">Use the scrollbar to choose a year.</div>
    </div>
</h2>

<div id="Scrollmenu">
    <a href="#Scrollmenu" class="active" onclick="deleteFilters()">Show all</a>
</div>

<div id="bl2" class="breakline"></div>

<h3>2) Filter all people
    <div class="tooltip">
        <img src="images/infoicon.svg" class="info" height="14px" width="14px">
        <div class="tooltiptext">You can toggle the buttons and choose multiple filters.</div>
    </div>
</h3>

<div id="onlyfilters">
    <button class="btn active" onclick="deleteSubfilters()">No subfilter</button>
    <button class="btn" onclick="filterSherpa()">Only sherpas</button>
    <button class="btn" onclick="filterGender('m')">Only men</button>
    <button class="btn" onclick="filterGender('f')">Only women</button>
    <button class="btn" onclick="filterNation('CH')">Only Swiss</button>
</div>

<div id="bl3" class="breakline"></div>

<h3>3) Filter reasons for death
    <div class="tooltip">
        <img src="images/infoicon.svg" class="info" height="14px" width="14px">
        <div class="tooltiptext">Click on "any or no reason" to see all the summiters again.</div>
    </div>
</h3>



<div id="fatalfilters">
    <button class="btn active" onclick="filterReason('')">Any or no reason</button>
    <button class="btn" onclick="filterReason('Avalanche')">Avanlanche</button>
    <button class="btn" onclick="filterReason('Fall')">Fall</button>
    <button class="btn" onclick="filterReason('Exposure')">Exposure</button>
    <button class="btn" onclick="filterReason('Altitude sickness')">Altitude sickness</button>
    <button class="btn" onclick="filterReason('Exhaustion')">Exhaustion</button>
    <button class="btn" onclick="filterReason('other')">Other</button>
</div>

<div id="bl4" class="breakline"></div>


<table class="e_table">
    <tr>
        <th>Fatalities</th>
    </tr>
    <tr id="fatal">
        <td></td>
    </tr>
    <tr>
        <th>Summiters</th>
    </tr>
    <tr id="climbers">
        <td></td>
    </tr>
</table>


<div>
    <footer>by Sandra Meier und Norina Steiner</footer>
</div>


</body>
</html>
